### 概念
> 稀疏索引和稠密索引，他们都有共同的关键字，所以，首先定位，他们是索引。

那么怎么看待稀疏和稠密呢？稀疏，就是少，稠密，就是多。那么，稀疏索引和稠密索引，就是少索引和多索引。

接下来，我们看看稀疏索引和稠密索引的具体概念

- 稀疏索引：索引中只包含搜索码和指针的表，只为数据文件中的某些记录建立索引项，索引项的个数远小于数据文件中的记录数。

![image-20230817171744834](https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20230817171744834.png)

​	从上面图片来看，我们不会为所有的记录建立索引，而是只为一部分建立索引，也就是说，当我们通过一个索引定位到目标数据后，还不一定是我们想要查看的数据，我们可能还需要对数据进行小范围的遍历。虽然时间上复杂度提高了，但是对于空间上海，因为建立了更少的索引，空间复杂度降低了



- 稠密索引：索引中包含搜索码和指针的表，为数据文件中的每个记录建立索引项，索引项的个数与数据文件中的记录数相同。

![image-20230817171959551](https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20230817171959551.png)

上图可知，我们为所有的记录都建立了索引，这样只要我们通过一个索引key就能很快的找到对应的数据项。但是当数据量非常大的时候，我们就会创建大量的索引数据，时间复杂度提高了。



### 对比

**其实稀疏索引和稠密索引也是在复杂度上面的一个权衡**

当然，在数据量比较少时，可以使用稠密索引，但是当数据量非常大时，我们就必须使用稀疏索引了。





### 哪些产品使用了稀疏索引

kafka

首先，你需要了解kafka中日志的存储结构

[https://cloud.tencent.com/developer/article/1787164](https://cloud.tencent.com/developer/article/1787164)

mysql



clickhouse



