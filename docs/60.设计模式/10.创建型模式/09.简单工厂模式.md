---
title: 简单工厂模式
date: 2022-12-23 12:22:23
permalink: /pages/cd66c1/
categories:
  - 设计模式
  - 创建型模式
tags:
  - 
author: 
  name: xugaoyi
  link: https://github.com/xugaoyi# 
---

## 1.简介

简单工厂模式严格来说并不是一个设计模式，反而较像是一种编程习惯。



简单工厂模式(`Simple Factory Pattern`)：又称为静态工厂方法(`Static Factory Method`)模式，它属于类创建型模式。在简单工厂模式中，`可以根据参数的不同返回不同类的实例`。简单工厂模式专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。



## 2. UML

![image-20221223122849679](https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20221223122849679.png)

- **Factory: 工厂角色** 负责根据不同的参数创建不同的实例。
- **IProduct: 抽象产品角色** 所有产品实例的接口，负责描述所有产品实例的行为。
- **Product(A B ..): 具象产品角色** 所有产品的实例，实现了抽象产品定义的代码



## 3. 实现

其实简单工厂最好的实现就是在spring中了。

spring中的BeanFactory就是根据用户传入的参数从而创建不同的bean

![image-20221223123508118](https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20221223123508118.png)



## 4.适用场景

- 工厂类负责创建的对象比较少：由于创建的对象较少，不会造成工厂方法中的业务逻辑太过复杂。
- 客户端只知道传入工厂类的参数，对于如何创建对象不关心：客户端既不需要关心创建细节，甚至连类名都不需要记住，只需要知道类型所对应的参数。

## 5.优缺点

由于工厂类集中了所有产品创建逻辑，一旦不能正常工作，整个系统都要受到影响。

使用简单工厂模式将会增加系统中类的个数，在一定程序上增加了系统的复杂度和理解难度。

系统扩展困难，一旦添加新产品就不得不修改工厂逻辑，在产品类型较多时，有可能造成工厂逻辑过于复杂，不利于系统的扩展和维护。

简单工厂模式由于使用了静态工厂方法，造成工厂角色无法形成基于继承的等级结构。

关键在于增加新的产品时需要更改工厂里的生产逻辑，可以用另外一种模式：工厂方法模式来解决这个问题。

## 6.简单应用
1. 在JDK类库中广泛使用了简单工厂模式，如工具类java.text.DateFormat，它用于格式化一个本地日期或者时间
2.  Java加密技术
```java
//获取不同加密算法的密钥生成器
KeyGenerator keyGen=KeyGenerator.getInstance("DESede");
//创建密码器
Cipher cp=Cipher.getInstance("DESede");
```

