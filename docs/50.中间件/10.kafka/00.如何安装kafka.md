### 1.下载安装包

[官网](https://kafka.apache.org/downloads)

本文章下载：[kafka_2.13-2.5.0.tgz](https://archive.apache.org/dist/kafka/2.5.0/kafka_2.13-2.5.0.tgz)

解压：`tar -zvxf kafka_2.13-2.5.0.tgz`



### 2.配置Kafka

配置文件位置为`conf/server.proprties`

如何查看kafka的默认config配置？

`cat kafka_2.13-2.5.0/config/server.properties |grep '^[a-z]' `

![image-20230721170225564](../../80.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/https%253A%252F%252F2290653824-github-io.oss-cn-hangzhou.aliyuncs.com%252Fimage-20230721170225564.png)

### 3. 启动Zookeeper

安装可以参考文章:[zookeeper安装](https://2290653824.github.io/pages/21d61b/)

首先启动 kafka需要依赖Zookeeper 服务，首先需要先启动Zookeeper服务:

```java
bin/zookeeper-server-start.sh config/zookeeper.properties &
(使用bin/zookeeper-server-start.sh -daemon config/zookeeper.properties以守护进程启动)
```

执行命令启动以后通过jps检测是否启动成功

![image-20230721172031114](../../80.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/https%253A%252F%252F2290653824-github-io.oss-cn-hangzhou.aliyuncs.com%252Fimage-20230721172031114.png)

从上图看到启动后有个QuorumPeerMain，它就是Zookeeper集群的启动入口类，是用来加载配置启动QuorumPeer 线程的。

### 4. 启动kafka

如果已经启动了Zookeeper服务，则直接运行下面的命令来启动或者停止Kafka服务:

```java
#1、启动kafka服务命令:
bin/kafka-server-start.sh config/server.properties &
#2、停止kafka 服务则运行下面命令:
bin/kafka-server-stop.sh config/server.properties
```

![image-20230721172337166](../../80.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/https%253A%252F%252F2290653824-github-io.oss-cn-hangzhou.aliyuncs.com%252Fimage-20230721172337166.png)

### 5. 测试

