---
title: 常用命令
date: 2023-09-02 09:13:16
permalink: /pages/46fb80/
categories:
  - 其他
  - QVM
  - K8S
tags:
  - 
author: 
  name: xugaoyi
  link: https://github.com/xugaoyi
---
`lsof` 是一个用于查看打开文件和网络套接字的命令行工具，它可以用于列出系统上的所有打开文件、目录和网络连接。以下是 `lsof` 的基本用法和一些常见的选项：

1. 列出所有打开文件和网络连接：

   使用以下命令列出系统上所有的打开文件、目录和网络套接字连接：

   ```
   Copy code
   lsof
   ```

2. 列出指定进程的打开文件和网络连接：

   您可以使用 `-p` 选项来指定要查看的特定进程的信息。例如，要查看进程ID为12345的进程的打开文件和网络连接，可以运行：

   ```
   cssCopy code
   lsof -p 12345
   ```

3. 列出指定用户的打开文件和网络连接：

   您可以使用 `-u` 选项来指定要查看的特定用户的信息。例如，要查看用户名为 "john" 的用户的打开文件和网络连接，可以运行：

   ```
   Copy code
   lsof -u john
   ```

4. 列出指定文件或目录相关的进程：

   您可以使用文件路径作为参数，以查找与指定文件或目录相关的进程。例如，要查找与 `/var/log/syslog` 文件相关的进程，可以运行：

   ```
   bashCopy code
   lsof /var/log/syslog
   ```

5. 列出网络连接：

   若要查看当前系统上的网络连接，可以使用 `-i` 选项，如下所示：

   ```
   cssCopy code
   lsof -i
   ```

6. 列出某个端口的网络连接：

   您可以使用 `-i` 选项后跟 `:端口号` 来查找指定端口的网络连接。例如，要查看端口 80 的网络连接，可以运行：

   ```
   cssCopy code
   lsof -i :80
   ```

7. 列出UNIX域套接字连接：

   若要查看UNIX域套接字连接，可以使用 `-U` 选项，如下所示：

   ```
   Copy code
   lsof -U
   ```

8. 列出监听状态的网络连接：

   若要查看正在监听的网络连接，可以使用 `-i` 选项后跟 `-s` 选项，如下所示：

   ```
   cssCopy code
   lsof -i -sTCP:LISTEN
   ```

这只是 `lsof` 的一些基本用法。根据您的需求，您可以使用不同的选项来过滤和查看更详细的信息。请注意，`lsof` 命令通常需要以管理员或超级用户权限运行，以便查看系统上所有的打开文件和网络连接。